(this["webpackJsonptogedoor-frontend"]=this["webpackJsonptogedoor-frontend"]||[]).push([[36],{467:function(e,t,a){"use strict";var r=a(13),c=a(0),s=a(438),o=a(449),n=a(477),l=a(152),i=a(450),j=a(16),b=a(161),d=a(682),m=a(654),x=a(439),u=a(655),h=a(656),p=a(9),O=a(1),f=function(e){var t=e.modal,a=e.toggle,r=e.children,c=e.to,s=e.title;return Object(O.jsxs)(d.a,{isOpen:t,toggle:a,className:"mt-13",children:[Object(O.jsxs)(m.a,{tag:"h6",toggle:a,className:"border-0",children:[Object(O.jsx)(j.a,{className:"text-primary mr-1",icon:b.c}),Object(O.jsx)("span",{className:"  text-dark",children:s})]}),Object(O.jsxs)(x.a,{children:[r&&Object(O.jsx)(u.a,{children:r}),Object(O.jsxs)(h.a,{className:"border-0 justify-content-start",children:[Object(O.jsx)(l.a,{color:"primary",onClick:a,children:"Save Updates"})," ",Object(O.jsx)(p.b,{to:c||"#",className:"text-primary",onClick:a,children:"cancel"})," "]})]})]})},g=a(247),y=a(248),N=a(244),v=a(160),w=function(e){var t=function(t){t.persist(),e.setUserBasicInfo(t.target.value,t.target.name)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"First name :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"text",name:"firstName",id:"exampleEmail",placeholder:"Please insert your first name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"Last name :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"text",name:"lastName",id:"exampleEmail",placeholder:"Please insert your last name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"Job title :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"text",name:"jobTitle",id:"exampleEmail",placeholder:"Please insert your job title",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Location :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"text",name:"location",id:"exampleEmail",onChange:t,placeholder:"Please insert your location",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})]})},S=function(e){console.log(e);return Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Write Yourself:"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"textarea",name:"aboutMe",id:"exampleText",placeholder:"Write YourSelf",className:"border-top-0 border-left-0 border-right-0 boder-bottom",onChange:function(t){t.persist(),e.setUserAboutMe(t.target.value,t.target.name)}})})]})},k=function(){return Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Video Link :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(v.a,{type:"text",name:"videolink",id:"exampleEmail",placeholder:"Youtube Url Or Browse Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})},C=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 01:"}),Object(O.jsxs)(N.a,{sm:9,children:[Object(O.jsx)(v.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(v.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(O.jsx)(v.a,{type:"file",name:"file",id:"exampleFile"})]})]}),Object(O.jsxs)(g.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 02:"}),Object(O.jsxs)(N.a,{sm:9,children:[Object(O.jsx)(v.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(v.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(O.jsx)(v.a,{type:"file",name:"file",id:"exampleFile"})]})]})]})};t.a=function(e){var t=e.title,a=e.action,d=e.children,m=e.className,x=e.modalName,u=Object(c.useState)(!1),h=Object(r.a)(u,2),p=h[0],g=h[1],y=function(){return g(!p)},N=Object(c.useState)("Write Yourself:"),v=Object(r.a)(N,2),T=(v[0],v[1],function(t,a){e.setAboutMe(t,a)});return Object(O.jsxs)(s.a,{className:"".concat(m&&m),children:[Object(O.jsxs)(o.a,{tag:"h6",className:"d-flex justify-content-between align-items-center bg-primary",children:[Object(O.jsx)(n.a,{className:"m-0 text-white p-2",children:t}),a&&Object(O.jsxs)(l.a,{size:"sm",onClick:y,className:"btn-icon text-white",color:"link",children:["basic"===x&&Object(O.jsx)(f,{modal:p,toggle:y,title:"basic information",children:Object(O.jsx)(w,{setUserBasicInfo:T})}),"about"===x&&Object(O.jsx)(f,{modal:p,toggle:y,title:"About us",children:Object(O.jsx)(S,{setUserAboutMe:T})}),"videoLink"===x&&Object(O.jsx)(f,{modal:p,toggle:y,title:"Intro video",children:Object(O.jsx)(k,{})}),"gallery"===x&&Object(O.jsx)(f,{modal:p,toggle:y,title:"Intro video",children:Object(O.jsx)(C,{})}),Object(O.jsx)(j.a,{icon:b.c})]})]}),d&&Object(O.jsx)(i.a,{children:d})]})}},690:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(61),s=a(8),o=a.n(s),n=a(11),l=a(17),i=a(13),j=a(439),b=a(247),d=a(248),m=a(160),x=a(436),u=a(244),h=a(152),p=(a(19),a(28),a(467)),O=a(36),f=a(118),g=a(33),y=a.n(g),N=a(60),v=a(1),w=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{})((function(e){var t=e.history,a=Object(r.useState)([]),s=Object(i.a)(a,2),O=s[0],g=s[1],w=Object(r.useState)([]),S=Object(i.a)(w,2),k=S[0],C=S[1],T=Object(r.useState)(" "),F=Object(i.a)(T,2),E=F[0],I=F[1],A=Object(r.useState)(""),P=Object(i.a)(A,2),J=P[0],L=P[1],D=Object(r.useState)(""),U=Object(i.a)(D,2),M=U[0],_=U[1],q=Object(f.b)(),Y=(q.form,q.handleSubmit,q.errors,N.a.getState()),B=Object(r.useState)({JobTitle:"",description:"",rating:[],Salary:"",serviceImage:null,subCategoryID:"",categoryName:"",avgRating:"new post"}),G=Object(i.a)(B,2),R=G[0],W=G[1];Y.auth.token;Object(r.useEffect)((function(){var e="";y.a.get("https://www.togedoortestgo.site/graphql/categories").then(function(){var t=Object(l.a)(o.a.mark((function t(a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.data,console.log(a.data),g(e),console.log(e[0].name.split(" ").join("-")),console.log(e[0].subcategories[0]._id),t.next=7,y.a.get("https://www.togedoortestgo.site/graphql/categories/name/Agriculture & Natural Resources");case 7:r=t.sent,C(r.data.subcategories),W(Object(n.a)(Object(n.a)({},R),{},{categoryName:e[0].name.split(" ").join("-"),subCategoryID:e[0].subcategories[0]._id})),console.log(" useEffect 2");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://www.togedoortestgo.site/graphql/categories/name/".concat(E.split(" ").join("-")));case 2:t=e.sent,C(t.data.subcategories),W(Object(n.a)(Object(n.a)({},R),{},{subCategoryID:t.data.subcategories[0]._id}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var z=function(e){e.persist(),W(Object(n.a)(Object(n.a)({},R),{},Object(c.a)({},e.target.name,e.target.value))),console.log(R)},V=function(){var e=Object(l.a)(o.a.mark((function e(a,r){var c,s,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onSubmitFile"),console.log(R),a.preventDefault(),""!==R.JobTitle&&""!==R.description&&""!==R.Salary&&""!==M){e.next=6;break}return alert("Need to fill inputs"),e.abrupt("return");case 6:c=[],s=0;case 8:if(!(s<R.length)){e.next=16;break}if(c[s]=R[s].value,""!=R[s].value){e.next=13;break}return alert("Need to fill inputs"),e.abrupt("return");case 13:s+=1,e.next=8;break;case 16:n=new FormData,console.log(R),n.append("file",J),n.append("document",JSON.stringify(R)),n.append("user",JSON.stringify(Y)),l={headers:{"Content-Type":"multipart/form-data",Authorization:Y.auth.token}},y.a.post("https://www.togedoortestgo.site/graphql/services/uploadfile",n,l).then((function(e){console.log(e),t.push("/")})).catch((function(e){console.log(e)}));case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(v.jsx)(p.a,{title:"Post new project",className:"mb-5",children:Object(v.jsxs)(j.a,{onSubmit:V,children:[Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect1",children:"Project category"}),Object(v.jsx)(m.a,{type:"select",name:"categoryName",id:"exampleSelect1",onChange:function(e){e.persist(),I(e.target.value),console.log(e.target.value),W(Object(n.a)(Object(n.a)({},R),{},{categoryName:e.target.value}))},children:O.map((function(e,t){return Object(v.jsx)("option",{value:e.name.split(" ").join("-"),children:e.name})}))})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect1",children:"Sub category"}),Object(v.jsx)(m.a,{type:"select",name:"subCategoryID",id:"exampleSelect1",onChange:z,children:k.length&&k.map((function(e,t){return Object(v.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleEmail1",children:"Project title"}),Object(v.jsx)(m.a,{type:"text",name:"JobTitle",onChange:z})]}),Object(v.jsxs)(x.a,{form:!0,children:[Object(v.jsx)(u.a,{md:12,children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect3",children:"Price"}),Object(v.jsx)(m.a,{type:"number",name:"Salary",onChange:z})]})}),Object(v.jsxs)(u.a,{md:12,children:[Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect3",className:"form-label",children:"About this project"}),Object(v.jsx)("textarea",{type:"text",className:"form-control",name:"description",rows:"5",onChange:z})]}),Object(v.jsxs)(d.a,{for:"exampleSelect3",className:"form-label",children:[" ","PROJECT IMAGE:"," "]})]}),Object(v.jsx)(u.a,{md:12,children:Object(v.jsxs)(b.a,{onSubmit:V,children:[Object(v.jsx)(m.a,{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){L(e.target.files[0]),_(e.target.files[0].name)}}),Object(v.jsx)(d.a,{for:"customFile",className:"custom-file-label",htmlFor:"customFile",children:M})]})}),Object(v.jsx)(u.a,{md:12,children:Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(h.a,{type:"submit",color:"primary",className:"outline-hover--effect ",children:"Post new project"})})})]})]})})}));t.default=function(e){var t=e.history;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(w,{history:t})})}}}]);
//# sourceMappingURL=36.d5e4dec9.chunk.js.map